<!DOCTYPE html>
<header>
    <title>{{ title }}</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script>
        function city_change() {
			const newVar = document.querySelector('input[type="text"]').value
            var url = new URL(window.location + "/forecast")
            url.searchParams.set("city", newVar)
            url.searchParams.set("day", new Date().toJSON().slice(0,10))
            window.location.replace(url.href)
        }
        
        const start = setInterval(function () {
            $('#city').on("keyup", function(e) {
            if (e.keyCode == 13) {
                city_change()
            }
        });
        }, 1000)


    </script>
</header>
<body>
    <input type="text" id="city" placeholder="City">
</body>